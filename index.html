<!DOCTYPE html>
<html>
<head>
    <title>8x8 Demonstration</title>
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <style>
        body {
            background-color: #3a3a38;
            color: white; /* Ensures text is readable */
        }

        /* Chat iFrame styling */
        #chat-iframe {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            height: 500px;
            border: none;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            z-index: 9999;
        }

        /* Button to open callback form */
        .open-button {
            background-color: #555;
            color: white;
            padding: 16px 20px;
            border: none;
            cursor: pointer;
            opacity: 0.8;
            position: fixed;
            bottom: 23px;
            right: 400px; /* Adjusted to avoid overlap with chat */
            width: 245px;
            border-radius: 10px;
        }

        /* The popup form - hidden by default */
        .form-popup {
            display: none;
            position: fixed;
            bottom: 0;
            right: 15px;
            border: 3px solid #f1f1f1;
            z-index: 9999;
            background-color: white;
            color: #3a3a38;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        /* Table text color */
        table, td, th {
            color: #3a3a38;
        }
    </style>
</head>

<body>

    <nav>
        <ul id="navbar" style="list-style: none; text-align: right;">
            <li style="float:left">
                <a href="https://githubmatthewmarchantcouk.github.io/basicthreepics/co_browse/">
                    <img src="toplhlogo.png">
                </a>
            </li>
        </ul>
    </nav>

    <!-- Chat iFrame (Replaces script-based chat button) -->
    <iframe 
        id="chat-iframe"
        src="https://vcc-eu5.8x8.com/CHAT/common/js/chatv3.js">
    </iframe>

    <div id="welcome-section">
        <img src="Pic2.PNG">
        <h1></h1>
        <p></p>
    </div>

    <div id="welcome-section2">
        <img src="Pic3.PNG">
        <h1></h1>
        <p></p>
    </div>

    <!-- Button to open the callback request form -->
    <button class="open-button" onclick="openForm()">Request a Callback</button>

    <!-- Callback Request Form -->
    <div class="form-popup" id="myForm">
        <form name="WebCallBack" action="https://vcc-eu5.8x8.com/SC/webcallback.php" method="get"  
            oninput="extTransactionData.value = '[Name|' + fname.value +' '+ lname.value + '][Location|' + location.value + '][Reason|' + reason.value +']'">
            
            <input type="hidden" name="extTransactionData"/>
            <input type="hidden" name="tenant" value="uksalesenablement47801"/>
            <input type="hidden" name="token" value="6417c61d2e76696a46841e53a00368a6441978972cdf471ac2d39307e14df09e"/>
            <input type="hidden" name="channel_number" value="442039845210"/>
            <input type="hidden" name="callback_type" value="1"/>
            <input type="hidden" name="queue_id" value="482"/>
            <input type="hidden" name="expiration" value="1200"/>

            <table style="background-color:#FFFFFF;">
                <tr><td>First name:</td><td> <input type="text" name="fname"/></td></tr>
                <tr><td>Last name:</td><td><input type="text" name="lname" /></td></tr>
                <tr><td>Location:</td><td><input type="text" name="location" /></td></tr>
                <tr><td>Reason:</td><td>
                    <select name="reason" style="border-radius: 8px; padding: 5px;">
                        <option value="Sales Training">Sales Training</option>
                        <option value="Technical Training">Technical Training</option>
                        <option value="Information" selected>Information</option>
                        <option value="Other">Other</option>
                    </select>
                </td></tr>
                <tr><td>Phone:</td><td><input type="tel" name="phone" class="anotherClass maskContent" /></td></tr>
                <tr><td colspan="2" style="text-align:center">
                    <input type="submit" value="Call Me" style="border-radius: 8px;"/>
                </td></tr>
            </table>
        </form>

        <form action="/action_page.php" class="form-container">
            <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
        </form>
    </div>

    <!-- JavaScript for opening and closing the form -->
    <script>
        function openForm() {
            document.getElementById("myForm").style.display = "block";
        }

        function closeForm() {
            document.getElementById("myForm").style.display = "none";
        }
    </script>

</body>
</html>
